webpackJsonp([1],{"+SNs":function(t,e){},GaqY:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s=a("BO1k"),o=a.n(s),n=a("wuJz"),r=a.n(n),l=a("M4fF"),c=a.n(l),d=a("EFqf"),u=a.n(d),p=a("5SB6"),m={name:"App",data:function(){return{input:"",user:{avatar:"",name:"Phantas Weng"},selectedFrameUrl:"",frameOptions:["https://i.imgur.com/Ta4AY9i.png","https://i.imgur.com/vUmQSgM.png"],upLoadimageUrl:"",base64Img:"",test:"",testArray:[],currentDate:r.a.format(new Date,"YYYY/MM/DD mm:ss"),dynamicTags:[],inputVisible:!1,inputValue:"",status:"",menuSwitch:"",dialogFormVisible:!1,editFormVisible:!1,dialogUploadVisible:!1,thisTodoForm:{index:"",title:"",content:""},tagsFilter:"",statusFilter:"",addTodoForm:{title:"",content:""},todoCards:[{title:"如何新增新的Todo",content:"### 點選左上方 \n - 新增按鈕藍色 \n - 填寫標題 \n 填寫內容",status:!1,visible:!0,tagsInputVisible:!1,tags:[{text:"生活",type:"success"},{text:"Vue相關",type:"warning"},{text:"Dcard",type:"primary"}]},{title:"我是 Phantas",content:"我用 Vue  \n Vue *是很有趣的* framework  \n 設計師都能學會",status:!0,visible:!0,tagsInputVisible:!1,tags:[{text:"Phantas",type:"primary"},{text:"Weng",type:"primary"},{text:"UIUX",type:"info"},{text:"F2E",type:"info"}]},{title:"很高興",content:"能夠認識您",status:!0,visible:!0,tagsInputVisible:!1,tags:[{text:"咦",type:"success"},{text:"Danger",type:"danger"},{text:"Primary",type:"primary"}]},{title:"很高興2",content:"能夠認識您",status:!1,visible:!0,tagsInputVisible:!1,tags:[{text:"咦",type:"success"},{text:"Danger",type:"danger"},{text:"Primary",type:"primary"}]}]}},methods:{fileUploadChange:function(t){var e=t.target.files[0];console.log("fileList:",e),this.loadImgFile(e)},selectedFrame:function(t){this.selectedFrameUrl=t},addSticker:function(t){var e=document.getElementById("resultCanvas"),a=new Image,i=this,s=e.width,o=e.height;a.setAttribute("crossOrigin","anonymous"),a.src=t,a.onload=function(){e.getContext("2d").drawImage(a,0,0,s,o),i.user.avatar=document.getElementById("resultCanvas").toDataURL("image/jpeg")}},getCroppedCanvas:function(){var t=document.getElementById("resultDom"),e=this.cropper.getCroppedCanvas();if(e){if(e.setAttribute("id","resultCanvas"),document.getElementById("resultCanvas")){var a=document.getElementById("resultCanvas");t.replaceChild(e,a)}else t.appendChild(e);""!==this.selectedFrameUrl?this.addSticker(this.selectedFrameUrl):this.user.avatar=document.getElementById("resultCanvas").toDataURL("image/jpeg"),this.dialogUploadVisible=!1,this.cropper.reset(),this.$message({type:"success",message:"個人資料更新成功"})}else this.$message({type:"error",message:"請先選擇圖片"})},consoleLog:function(t){console.log(t)},urlGetFile:function(t){var e=this,a=new Image,i=document.createElement("canvas"),s=i.getContext("2d");i.setAttribute("id","testCanvas"),a.setAttribute("crossOrigin","Anonymous"),a.src="http://"+t.replace(/(^\w+:|^)\/\//,""),a.onload=function(){i.width=a.width,i.height=a.height,s.drawImage(a,0,0),document.getElementById("cropperWrap").appendChild(i),e.base64Img=i.toDataURL("image/jpeg")},a.onerror=function(){a.src="https://api.fnkr.net/testimg/300x300/ddd/888/?text=ERROR"}},loadImgFile:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onload=function(){e.base64Img=a.result}},updateCropper:function(){this.cropper.replace(this.base64Img),console.log("Cropper update:",this.cropper)},initCropper:function(){if(null!=document.getElementById("cropperWrap")){var t=document.getElementById("cropperTarget");console.log("image",t),this.cropper=new p.a(t,{aspectRatio:1,viewMode:2,background:!1,zoomable:!0,crop:function(t){console.log("cropEvent:",t)}}),console.log("Cropper init:",this.cropper)}},updatePicture:function(){this.dialogUploadVisible=!0,this.$nextTick(function(){this.cropper||this.initCropper()})},addTodoButton:function(){this.dialogFormVisible=!0},clearTodo:function(){var t=this;this.$confirm("確定清除所有已完成 Todo ?","刪除？",{confirmButtonText:"刪除",cancelButtonText:"取消",type:"warning"}).then(function(){var e=[],a=!0,i=!1,s=void 0;try{for(var n,r=o()(t.todoCards);!(a=(n=r.next()).done);a=!0){var l=n.value;!1===l.status&&e.push(l)}}catch(t){i=!0,s=t}finally{try{!a&&r.return&&r.return()}finally{if(i)throw s}}t.todoCards=e,t.$message({type:"success",message:"刪除完成"})}).catch(function(){t.$message({type:"info",message:"取消刪除"})})},updateTodo:function(t){var e=this.todoCards[t];e.title=this.thisTodoForm.title,e.content=this.thisTodoForm.content,this.editFormVisible=!1;var a=this.$createElement;this.$notify({title:"更新卡片",message:a("i",{style:"color: #409EFF"},e.title+" - 已更新"),type:"success"})},pushNewTodo:function(){if(""!==this.addTodoForm.title){this.dialogFormVisible=!1,this.todoCards.push({title:this.addTodoForm.title,content:this.addTodoForm.content,status:!1,visible:!0,tagsInputVisible:!1,tags:[]});var t=this.$createElement;this.$notify({title:"新增卡片",message:t("i",{style:"color: #409EFF"},this.addTodoForm.title+" - 已新增"),type:"success"}),this.addTodoForm.title="",this.addTodoForm.content=""}else this.$message({message:"標題為必填欄位",type:"error"})},deleteCard:function(t){this.todoCards.splice(t,1)},editCard:function(t){var e=this.todoCards[t];this.editFormVisible=!0,this.thisTodoForm.index=t,this.thisTodoForm.title=e.title,this.thisTodoForm.content=e.content},timeFormat:function(t){!0===r.a.isToday(t)?r.a.format(t,"mm:ss"):r.a.format(t,"YYYY/MM/DD mm:ss")},handleClose:function(t,e){e.splice(e.indexOf(t),1);var a=[],i=!0,s=!1,n=void 0;try{for(var r,l=o()(this.todoCards);!(i=(r=l.next()).done);i=!0){var d=r.value,u=!0,p=!1,m=void 0;try{for(var f,h=o()(d.tags);!(u=(f=h.next()).done);u=!0){var g=f.value;a.push(g.text)}}catch(t){p=!0,m=t}finally{try{!u&&h.return&&h.return()}finally{if(p)throw m}}}}catch(t){s=!0,n=t}finally{try{!i&&l.return&&l.return()}finally{if(s)throw n}}this.dynamicTags=c.a.uniq(a)},showInput:function(t,e){var a=this;t.tagsInputVisible=!0,this.$nextTick(function(){a.$refs["saveTagInput"+e][0].$refs.input.focus()})},handleInputConfirm:function(t,e){var a=this.inputValue;a&&t.push({text:a,type:"info"});var i=[],s=!0,n=!1,r=void 0;try{for(var l,d=o()(this.todoCards);!(s=(l=d.next()).done);s=!0){var u=l.value,p=!0,m=!1,f=void 0;try{for(var h,g=o()(u.tags);!(p=(h=g.next()).done);p=!0){var v=h.value;i.push(v.text)}}catch(t){m=!0,f=t}finally{try{!p&&g.return&&g.return()}finally{if(m)throw f}}}}catch(t){n=!0,r=t}finally{try{!s&&d.return&&d.return()}finally{if(n)throw r}}this.dynamicTags=c.a.uniq(i),e.tagsInputVisible=!1,this.inputValue=""},update:c.a.debounce(function(t){this.input=t.target.value},300),compiledMarkdown:function(t){return u()(t,{sanitize:!0})},tagsFiltering:function(t){this.tagsFilter=t},tagsCondition:function(t){if(String(t.status)===this.statusFilter||""===this.statusFilter){if(""!==this.tagsFilter)return c.a.findKey(t.tags,["text",this.tagsFilter])>-1;if(""===this.tagsFilter)return!0}}},computed:{},mounted:function(){var t=[],e=!0,a=!1,i=void 0;try{for(var s,n=o()(this.todoCards);!(e=(s=n.next()).done);e=!0){var r=s.value,l=!0,d=!1,u=void 0;try{for(var p,m=o()(r.tags);!(l=(p=m.next()).done);l=!0){var f=p.value;t.push(f.text)}}catch(t){d=!0,u=t}finally{try{!l&&m.return&&m.return()}finally{if(d)throw u}}}}catch(t){a=!0,i=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw i}}this.dynamicTags=c.a.uniq(t)},watch:{statusFilter:function(){},todoCards:function(){console.log("變動")},base64Img:function(){console.log("base64Updated"),this.updateCropper()}},updated:function(){}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-container",[a("el-aside",{class:{menuOn:t.menuSwitch}},[a("el-row",{staticClass:"function-row"},[a("el-col",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:t.addTodoButton}},[a("span",[t._v("新增 Todo")])])],1)],1),a("el-row",[a("el-col",[a("div",{staticClass:"user-card"},[a("div",{staticClass:"img-avatar-wrap"},[a("div",{staticClass:"img-avatar"},[t.user.avatar?a("img",{attrs:{src:t.user.avatar}}):a("img",{attrs:{src:"https://api.fnkr.net/testimg/300x300/ddd/FFF/?text=AVATAR"}}),a("div",{staticClass:"edit-avatar",on:{click:t.updatePicture}},[a("i",{staticClass:"el-icon el-icon-picture-outline"}),a("span",[t._v("更新圖片")])])])]),a("div",{staticClass:"userName"},[t._v(t._s(t.user.name))])])])],1),a("el-menu",{attrs:{"default-openeds":["1"],collapse:!1}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),a("span",[t._v("標籤")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-0"},on:{click:function(e){t.tagsFiltering("")}}},[a("span",[t._v("全部")])]),t._l(t.dynamicTags,function(e,i){return a("el-menu-item",{key:i,attrs:{index:"1-"+String(i+1)},on:{click:function(a){t.tagsFiltering(e)}}},[a("span",[t._v(t._s(e))])])})],2)],2)],1)],1),a("el-container",[a("el-header",[a("el-row",{staticClass:"fn-button-row"},[a("el-col",{attrs:{span:4}},[a("el-tooltip",{attrs:{effect:"dark",content:"清除已完成",placement:"top-start"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:t.clearTodo}})],1)],1),a("el-col",{attrs:{span:20}},[a("div",{staticStyle:{float:"right"}},[a("el-radio-group",{model:{value:t.statusFilter,callback:function(e){t.statusFilter=e},expression:"statusFilter"}},[a("el-radio-button",{attrs:{label:""}},[t._v("All")]),a("el-radio-button",{attrs:{label:"false"}},[a("i",{staticClass:"el-icon-close"})]),a("el-radio-button",{attrs:{label:"true"}},[a("i",{staticClass:"el-icon-check"})])],1),a("div",{staticClass:"menu-btn"},[!0===t.menuSwitch?a("el-button",{staticClass:"hidden-sm-and-up",attrs:{icon:"el-icon-close"},on:{click:function(e){t.menuSwitch=!t.menuSwitch}}},[t._v("選單")]):a("el-button",{staticClass:"hidden-sm-and-up",attrs:{icon:"el-icon-menu"},on:{click:function(e){t.menuSwitch=!t.menuSwitch}}},[t._v("選單")])],1)],1)])],1)],1),a("el-main",[a("el-scrollbar",[a("div",{staticClass:"todo-wrap"},[a("div",{staticClass:"cards-wrap"},t._l(t.todoCards,function(e,i){return t.tagsCondition(e)?a("el-card",{key:i,staticClass:"box-card"},[a("div",{staticClass:"box-card__header",attrs:{slot:"header"},slot:"header"},[a("el-row",{staticStyle:{"margin-bottom":"8px"}},[a("el-col",{attrs:{span:18,xs:{span:24}}},[a("div",{staticClass:"box-card__title"},[t._v(t._s(e.title))])]),a("el-col",{attrs:{span:6,xs:{span:24}}},[!0===e.status?a("el-tooltip",{attrs:{effect:"dark",content:"已完成",placement:"top-start"}},[a("div",{staticClass:"statusCheck-wrap",on:{click:function(t){e.status=!e.status}}},[a("div",{staticClass:"statusCheck",class:{checked:!0===e.status}})])]):a("el-tooltip",{attrs:{effect:"light",content:"未完成",placement:"top-start"}},[a("div",{staticClass:"statusCheck-wrap",on:{click:function(t){e.status=!e.status}}},[a("div",{staticClass:"statusCheck",class:{checked:!0===e.status}})])]),a("el-button-group",{staticStyle:{float:"right","margin-right":"8px"}},[a("el-button",{attrs:{size:"mini",plain:"plain"},on:{click:function(e){t.editCard(i)}}},[a("i",{staticClass:"el-icon-edit"})]),a("el-button",{attrs:{size:"mini",plain:"plain"},on:{click:function(e){t.deleteCard(i)}}},[a("i",{staticClass:"el-icon-delete"})])],1)],1)],1),a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{staticClass:"box-card__tag"},[t._l(e.tags,function(i,s){return a("el-tag",{key:s,attrs:{size:"medium",type:i.type,closable:"closable","disable-transitions":!1},on:{close:function(a){t.handleClose(i,e.tags)}}},[t._v(t._s(i.text))])}),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.tagsInputVisible,expression:"card.tagsInputVisible"}],ref:"saveTagInput"+i,refInFor:!0,staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:function(a){t.handleInputConfirm(e.tags,e)}},nativeOn:{keyup:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13,a.key,"Enter"))return null;t.handleInputConfirm(e.tags,e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.tagsInputVisible,expression:"!card.tagsInputVisible"}],staticClass:"button-new-tag",attrs:{size:"small",icon:"el-icon-plus"},on:{click:function(a){t.showInput(e,i)}}},[t._v(t._s(i))])],2)],1)],1),a("div",{staticClass:"box-card__content"},[a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.compiledMarkdown(e.content))}})])]):t._e()}))])]),a("el-dialog",{attrs:{title:"新增 Todo",center:!0,fullscreen:!0,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"標題"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addTodoForm.title,callback:function(e){t.$set(t.addTodoForm,"title",e)},expression:"addTodoForm.title"}})],1),a("el-form-item",{attrs:{label:"內容"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.addTodoForm.content,callback:function(e){t.$set(t.addTodoForm,"content",e)},expression:"addTodoForm.content"}}),a("small",[t._v("Markdown 格式："),a("a",{attrs:{target:"_blankh",href:"https://wastemobile.gitbooks.io/gitbook-chinese/content/format/markdown.html"}},[t._v("編輯說明")])])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{id:"pushNewTodo",type:"primary"},on:{click:t.pushNewTodo}},[t._v("建立")])],1)],1),a("el-dialog",{attrs:{title:"編輯 Todo",center:!0,fullscreen:!0,visible:t.editFormVisible},on:{"update:visible":function(e){t.editFormVisible=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"標題"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.thisTodoForm.title,callback:function(e){t.$set(t.thisTodoForm,"title",e)},expression:"thisTodoForm.title"}})],1),a("el-form-item",{attrs:{label:"內容"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.thisTodoForm.content,callback:function(e){t.$set(t.thisTodoForm,"content",e)},expression:"thisTodoForm.content"}}),a("small",[t._v("Markdown 格式："),a("a",{attrs:{target:"_blankh",href:"https://wastemobile.gitbooks.io/gitbook-chinese/content/format/markdown.html"}},[t._v("編輯說明")])])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editFormVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateTodo(t.thisTodoForm.index)}}},[t._v("更新")])],1)],1),a("el-dialog",{ref:"avatarUpdate",attrs:{title:"使用者設定",center:!0,fullscreen:!0,visible:t.dialogUploadVisible},on:{"update:visible":function(e){t.dialogUploadVisible=e}}},[a("div",{staticClass:"cards-wrap"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{type:"text"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),a("form",{attrs:{enctype:"multipart/form-data"}},[a("el-form-item",{attrs:{label:"圖片網址"}},[a("el-input",{attrs:{placeholder:"輸入網址"},on:{change:function(e){t.urlGetFile(e)}}},[a("template",{slot:"prepend"},[t._v("Http://")])],2)],1),a("el-form-item",{attrs:{label:"從本機上傳"}},[a("label",{attrs:{for:"fileUploadBtn"}},[a("div",{staticClass:"fileUploadBtn"},[a("i",{staticClass:"el-icon el-icon-upload"}),a("span",[t._v("選擇檔案")])])]),a("input",{attrs:{id:"fileUploadBtn",type:"file"},on:{change:function(e){t.fileUploadChange(e)}}})])],1)],1),a("div",{staticClass:"selectFrame"},t._l(t.frameOptions,function(e,i){return a("img",{staticClass:"frameSelect",class:{selected:e===t.selectedFrameUrl},attrs:{src:e},on:{click:function(a){t.selectedFrame(e)}}})})),a("div",{attrs:{id:"cropperWrap"}},[a("img",{staticStyle:{"max-width":"100%",height:"auto"},attrs:{id:"cropperTarget",src:t.base64Img}})]),a("div",{attrs:{id:"resultDom"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{"margin-top":"16px"},attrs:{type:"primary"},on:{click:function(e){t.getCroppedCanvas()}}},[t._v("更新資訊")])],1)],1)])],1)],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(m,f,!1,function(t){a("+SNs")},null,null).exports,g=a("/ocq"),v={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var b=a("VU/8")({name:"Homepage",data:function(){return{}}},v,!1,function(t){a("GaqY")},"data-v-13a62ecd",null).exports;i.default.use(g.a);var y=new g.a({routes:[{path:"/",name:"Homepage",component:b}]}),C=a("zL8q"),F=a.n(C);a("tvR6");i.default.use(F.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:y,components:{App:h},template:"<App/>"})},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9a13e30577db2e93c9ab.js.map